(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     15571,        400]
NotebookOptionsPosition[     15200,        386]
NotebookOutlinePosition[     15615,        402]
CellTagsIndexPosition[     15572,        399]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"Fetch", " ", "catalog", " ", "of", " ", "stars"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"stars", "=", 
     RowBox[{"StarData", "[", "]"}]}], ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", " ", 
    RowBox[{
     RowBox[{
     "Fetch", " ", "star", " ", "data", " ", "that", " ", "we", " ", "need", 
      " ", "for", " ", "HR"}], "-", "diagram"}], " ", "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"hrRawData", "=", 
     RowBox[{"StarData", "[", 
      RowBox[{"stars", ",", 
       RowBox[{"{", 
        RowBox[{"\"\<Luminosity\>\"", ",", "\"\<EffectiveTemperature\>\""}], 
        "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", " ", 
    RowBox[{
    "Select", " ", "stars", " ", "that", " ", "have", " ", "both", " ", 
     "measuremens"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"hrSelection", "=", 
     RowBox[{"Select", "[", 
      RowBox[{"hrRawData", ",", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "0"}], "]"}], "]"}], "\[Equal]", "Quantity"}], "&&", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "0"}], "]"}], "]"}], "\[Equal]", "Quantity"}]}],
         "&"}]}], "]"}]}], ";"}], "\n", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{
    "Remove", " ", "units", " ", "from", " ", "luminosity", " ", "and", " ", 
     "teperature", " ", "values"}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"hrData", "=", 
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "1"}], "]"}], "]"}], ",", 
          RowBox[{"#", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "1"}], "]"}], "]"}]}], "}"}], "&"}], ",", 
       "hrSelection"}], "]"}]}], ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"Continuous", " ", "temperature"}], "-", "to", "-", 
     RowBox[{
     "color", " ", "function", " ", "using", " ", "stellar", " ", "blackbody",
       " ", "curve"}]}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"getStarColorByTemp", "[", "temp_", "]"}], ":=", 
     RowBox[{"Module", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"logT", "=", 
         RowBox[{"Log10", "[", "temp", "]"}]}], "}"}], ",", 
       RowBox[{"Which", "[", 
        RowBox[{
         RowBox[{"logT", ">", "4.5"}], ",", 
         RowBox[{"(*", 
          RowBox[{"Very", " ", "hot", " ", "O", " ", "stars"}], "*)"}], 
         RowBox[{"Blend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.6", ",", "0.8", ",", "1.0"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.4", ",", "0.6", ",", "1.0"}], "]"}]}], "}"}], ",", 
           RowBox[{"Clip", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{"logT", "-", "4.5"}], ")"}], "/", "0.5"}], ",", 
             RowBox[{"{", 
              RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], "]"}], ",", 
         RowBox[{"logT", ">", "4.0"}], ",", 
         RowBox[{"(*", 
          RowBox[{"Hot", " ", "B", " ", "stars"}], "*)"}], 
         RowBox[{"Blend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.8", ",", "0.9", ",", "1.0"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.6", ",", "0.8", ",", "1.0"}], "]"}]}], "}"}], ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"logT", "-", "4.0"}], ")"}], "/", "0.5"}]}], "]"}], ",", 
         
         RowBox[{"logT", ">", "3.88"}], ",", 
         RowBox[{"(*", 
          RowBox[{"A", " ", "stars"}], "*)"}], 
         RowBox[{"Blend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.95", ",", "0.95", ",", "1.0"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.8", ",", "0.9", ",", "1.0"}], "]"}]}], "}"}], ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"logT", "-", "3.88"}], ")"}], "/", "0.12"}]}], "]"}], 
         ",", 
         RowBox[{"logT", ">", "3.78"}], ",", 
         RowBox[{"(*", 
          RowBox[{"F", " ", "stars"}], "*)"}], 
         RowBox[{"Blend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "1.0", ",", "0.85"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"0.95", ",", "0.95", ",", "1.0"}], "]"}]}], "}"}], ",", 
           
           RowBox[{
            RowBox[{"(", 
             RowBox[{"logT", "-", "3.78"}], ")"}], "/", "0.10"}]}], "]"}], 
         ",", 
         RowBox[{"logT", ">", "3.72"}], ",", 
         RowBox[{"(*", 
          RowBox[{"G", " ", "stars"}], "*)"}], 
         RowBox[{"Blend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "1.0", ",", "0.0"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "1.0", ",", "0.85"}], "]"}]}], "}"}], ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"logT", "-", "3.72"}], ")"}], "/", "0.06"}]}], "]"}], 
         ",", 
         RowBox[{"logT", ">", "3.57"}], ",", 
         RowBox[{"(*", 
          RowBox[{"K", " ", "stars"}], "*)"}], 
         RowBox[{"Blend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.7", ",", "0.4"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "1.0", ",", "0.0"}], "]"}]}], "}"}], ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"logT", "-", "3.57"}], ")"}], "/", "0.15"}]}], "]"}], 
         ",", "True", ",", 
         RowBox[{"(*", 
          RowBox[{"M", " ", "stars", " ", "and", " ", "cooler"}], "*)"}], 
         RowBox[{"Blend", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.4", ",", "0.2"}], "]"}], ",", 
             RowBox[{"RGBColor", "[", 
              RowBox[{"1.0", ",", "0.7", ",", "0.4"}], "]"}]}], "}"}], ",", 
           RowBox[{"Clip", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{"logT", "-", "3.2"}], ")"}], "/", "0.37"}], ",", 
             RowBox[{"{", 
              RowBox[{"0", ",", "1"}], "}"}]}], "]"}]}], "]"}]}], "]"}]}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{
    RowBox[{"chartTitle", "=", 
     RowBox[{"\"\<Hertzsprung-Russell Diagram (\>\"", "<>", 
      RowBox[{"ToString", "[", 
       RowBox[{"Length", "[", "hrData", "]"}], "]"}], "<>", 
      "\"\< stars)\>\""}]}], ";"}], "\[IndentingNewLine]", "\n", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"Create", " ", "H"}], "-", 
     RowBox[{
     "R", " ", "diagram", " ", "with", " ", "reversed", " ", "temperature", 
      " ", "axis", " ", 
      RowBox[{"(", 
       RowBox[{"hot", " ", "on", " ", "left"}], ")"}]}]}], "*)"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"hrGraphics", "=", 
     RowBox[{"Graphics", "[", "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{"Create", " ", "graphics", " ", "data", " ", 
         RowBox[{"table", ":", " ", "color"}]}], ",", " ", 
        RowBox[{"point", " ", "size"}], ",", " ", 
        RowBox[{"negatve", " ", "logarithm", " ", "of", " ", "temperature"}], 
        ",", " ", 
        RowBox[{"logarithm", " ", "of", " ", "luminosity"}]}], " ", "*)"}], 
      "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{
        "We", " ", "use", " ", "negative", " ", "temperature", " ", "log", 
         " ", "so", " ", "that", " ", "x"}], "-", 
        RowBox[{
        "axis", " ", "flows", " ", "from", " ", "hotter", " ", "to", " ", 
         "colder", " ", "stars"}]}], " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{
        "We", " ", "will", " ", "print", " ", "positive", " ", "logs", " ", 
         "as", " ", "x"}], "-", 
        RowBox[{
        "axis", " ", "labels", " ", "by", " ", "adjusting", " ", "some", " ", 
         "setting", " ", "later"}]}], " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Table", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"getStarColorByTemp", "[", 
            RowBox[{"hrData", "[", 
             RowBox[{"[", 
              RowBox[{"i", ",", "2"}], "]"}], "]"}], "]"}], ",", 
           RowBox[{"PointSize", "[", "0.003", "]"}], ",", 
           RowBox[{"Point", "[", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"Log10", "[", 
                RowBox[{"hrData", "[", 
                 RowBox[{"[", 
                  RowBox[{"i", ",", "2"}], "]"}], "]"}], "]"}]}], ",", 
              RowBox[{"Log10", "[", 
               RowBox[{"hrData", "[", 
                RowBox[{"[", 
                 RowBox[{"i", ",", "1"}], "]"}], "]"}], "]"}]}], "}"}], 
            "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"i", ",", 
           RowBox[{"Length", "[", "hrData", "]"}]}], "}"}]}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"Frame", " ", "the", " ", "chart"}], " ", "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"Frame", "\[Rule]", "True"}], ",", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"Axes", " ", "labels"}], " ", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"FrameLabel", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Style", "[", 
           RowBox[{
           "\"\<Log Temperature (K) (hot \[LeftArrow] \[RightArrow] \
cool)\>\"", ",", "14"}], "]"}], ",", 
          RowBox[{"Style", "[", 
           RowBox[{
           "\"\<Log Luminosity (L\[Sun]) (dim \[LeftArrow] \[RightArrow] \
bright)\>\"", ",", "14"}], "]"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"Chart", " ", "title"}], " ", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"PlotLabel", "\[Rule]", 
        RowBox[{"Style", "[", 
         RowBox[{"chartTitle", ",", "20", ",", "Bold", ",", "White"}], 
         "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"Graphics", " ", "width"}], " ", "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"ImageSize", "\[Rule]", "1200"}], ",", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"Black", " ", "background"}], " ", "*)"}], " ", 
       "\[IndentingNewLine]", 
       RowBox[{"Background", "\[Rule]", "Black"}], ",", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{"Use", " ", "automatic", " ", "grid", " ", "spacing"}], ",", 
         " ", 
         RowBox[{
          RowBox[{"use", " ", "dashed", " ", "semi"}], "-", 
          RowBox[{"transparent", " ", "white", " ", "lines"}]}]}], " ", 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"GridLines", "\[Rule]", "Automatic"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"GridLinesStyle", "\[Rule]", 
        RowBox[{"Directive", "[", 
         RowBox[{"White", ",", "Dashed", ",", 
          RowBox[{"Opacity", "[", "0.2", "]"}]}], "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{
        "Combined", " ", "with", " ", "ImageSize", " ", "this", " ", 
         "defines", " ", "image", " ", "height"}], " ", "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"AspectRatio", "\[Rule]", "0.6"}], ",", "\[IndentingNewLine]", 
       
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{"Let", "'"}], "s", " ", "focus", " ", "the", " ", "area", 
         " ", "with", " ", "majority", " ", "points"}], " ", "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"PlotRange", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "3.0"}], ",", 
            RowBox[{"-", "5.0"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"21", ",", " ", "34"}], "}"}]}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"Axes", " ", "tick", " ", "marks"}], " ", "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"FrameTicks", "\[Rule]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"Automatic", ",", "None"}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Table", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", "i"}], ",", 
                RowBox[{"ToString", "[", "i", "]"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"i", ",", "3", ",", "6", ",", "0.5"}], "}"}]}], "]"}], 
            ",", "None"}], "}"}]}], "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"Margin", " ", "around", " ", "graphics"}], " ", "*)"}], 
       "\[IndentingNewLine]", 
       RowBox[{"ImageMargins", "\[Rule]", "20"}], ",", "\[IndentingNewLine]", 
       
       RowBox[{"(*", " ", 
        RowBox[{
        "Graphics", " ", "border", " ", "and", " ", "axes", " ", "label", " ",
          "color"}], " ", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"FrameStyle", "\[Rule]", "White"}]}], "\[IndentingNewLine]", 
      "]"}]}], ";"}], "\[IndentingNewLine]", "\n", "hrGraphics", 
   "\n"}]}]], "Input",
 CellChangeTimes->{{3.966850958940963*^9, 3.9668509931225348`*^9}, {
  3.966851026571993*^9, 3.966851122138122*^9}, {3.966851173488985*^9, 
  3.966851304451067*^9}, {3.9668513762052917`*^9, 3.966851782525625*^9}, {
  3.9668518585129232`*^9, 3.9668519467165203`*^9}, {3.966851981471861*^9, 
  3.966852061665204*^9}, {3.9668521410093718`*^9, 3.9668522109167557`*^9}, {
  3.966852249667296*^9, 3.966852310377667*^9}, {3.96685257039929*^9, 
  3.966852572915457*^9}, {3.966852654028941*^9, 3.966852654219105*^9}},
 CellLabel->
  "In[1078]:=",ExpressionUUID->"63e9ee97-2d79-4f26-8766-7f7e145d42e5"]
},
WindowSize->{1348, 911},
WindowMargins->{{4, Automatic}, {Automatic, 4}},
FrontEndVersion->"12.0 for Mac OS X x86 (64-bit) (April 8, 2019)",
StyleDefinitions->FrontEnd`FileName[{"Wolfram"}, "ProgrammingLabDefault.nb", 
  CharacterEncoding -> "UTF-8"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 14638, 364, 1311, "Input",ExpressionUUID->"63e9ee97-2d79-4f26-8766-7f7e145d42e5"]
}
]
*)

